import{d as a,h as c,W as l,i as d}from"./handleGlobalError-BpL8gP2k.js";function m(e){return e.field==="network"||e.field==="internal"}function s(e,r=new Set){e.length>0&&e.forEach(n=>{if(!r.has(n.name)){const t=n.parentElement.querySelector(".error");t&&t.remove()}})}function u(e){const r=document.querySelector(`#${e.field}`);if(!r){console.error(`DOM-element #${e.field} is missing.`);return}const n=r.parentElement;a(n,e.message)}function f(e){let r=new Set;for(const t of e)m(t)?c(document.body,t):(r.add(t.field),u(t));const n=document.querySelectorAll("form input, form textarea");s(n,r)}function p(e){return{companyName:String(e.get("companyName")),jobTitle:String(e.get("jobTitle")),workCityLocation:String(e.get("workCityLocation")),startDate:String(e.get("startDate")),endDate:String(e.get("endDate")),description:String(e.get("description"))}}function E(){const e="form",r=document.querySelector(e);if(!r){console.error(`DOM-element ${e} is missing.`);return}r.addEventListener("submit",g)}async function g(e){e.preventDefault();const r=e.target,n=new FormData(r),t=p(n);try{await new l("https://dt207g-moment2.azurewebsites.net/api/work-experience").insert(t);const i=document.querySelectorAll("form input, form textarea");s(i),setTimeout(()=>window.alert("Work experience has been added!"),0)}catch(o){Array.isArray(o)&&o.every(i=>d(i))?f(o):console.error("Unexpected app error",o)}}function y(){E()}y();
